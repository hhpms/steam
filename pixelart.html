<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Binary Board – HHPMS STEAM Club 2025–2026</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --pixel-size: 16px;
      --gap: 2px;
    }

    body {
      font-family: system-ui, sans-serif;
      background: #111;
      color: #fff;
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
    }

    main {
      max-width: 900px;
      width: 100%;
      text-align: center;
    }

    h1 {
      margin-bottom: 10px;
    }

    /* =========================
       PIXEL DISPLAY
       ========================= */
    .display {
      display: grid;
      grid-template-columns: repeat(32, var(--pixel-size));
      grid-template-rows: repeat(8, var(--pixel-size));
      gap: var(--gap);
      justify-content: center;
      margin: 20px auto 30px;
    }

    .pixel {
      width: var(--pixel-size);
      height: var(--pixel-size);
      background: black;
    }

    /* Color classes */
    .black { background: black; }
    .brown { background: #7a4a2e; }
    .yellow { background: #ffd400; }
    .green { background: #00b050; }
    .blue { background: #0070c0; }
    .white { background: #ffffff; }

    /* =========================
       BINARY CONTROLS
       ========================= */
    .binary-board {
      display: grid;
      grid-template-columns: repeat(8, auto);
      gap: 10px 12px;
      justify-content: center;
      margin-top: 20px;
    }

    .bit {
      width: 44px;
      height: 44px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      border: none;
      border-radius: 6px;
      background: #333;
      color: #fff;
    }

    .bit.on {
      background: #00b050;
      color: #000;
    }

    .row-label {
      grid-column: span 8;
      font-size: 14px;
      opacity: 0.8;
      margin-bottom: -6px;
    }
    .helper-row{
      margin-top: 14px;
      display: flex;
      justify-content: center;
    }

    .helper-btn{
      padding: 10px 14px;
      border-radius: 8px;
      border: none;
      background: #333;
      color: #fff;
      font-weight: 700;
      cursor: pointer;
    }
    .helper-btn:hover{ filter: brightness(1.1); }

    /* Modal */
    .modal{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.65);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 18px;
      z-index: 999;
    }
    .hidden{ display: none; }

    .modal-card{
      width: min(720px, 100%);
      background: #1b1b1b;
      border: 1px solid #333;
      border-radius: 12px;
      padding: 14px;
      text-align: left;
    }

    .modal-header{
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 10px;
    }

    .modal-header h2{
      font-size: 18px;
      margin: 0;
    }

    .modal-close{
      width: 36px;
      height: 36px;
      border-radius: 8px;
      border: none;
      background: #333;
      color: #fff;
      cursor: pointer;
      font-size: 18px;
    }

    .ascii-table{
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px 16px;
      padding: 10px 0 6px;
    }

    .ascii-row{
      display: flex;
      justify-content: space-between;
      gap: 10px;
      padding: 6px 10px;
      border: 1px solid #2d2d2d;
      border-radius: 10px;
      background: #141414;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    .ascii-row span{
      white-space: nowrap;
    }

    .modal-footer{
      margin-top: 10px;
      display: flex;
      gap: 10px;
      justify-content: flex-end;
    }

  </style>
</head>

<body>
<main>
  <h1>Binary Board</h1>
  <p><i>Toggle bits to spell a 4-letter ASCII word. Use All-Caps! Spelling special words will show pixel art created by our students! Try PEEL or BOLT!</i></p>

  <!-- Pixel Display -->
  <div id="display" class="display"></div>

  <!-- Binary Input -->
  <div id="binaryBoard" class="binary-board"></div>
  <!-- Binary Input -->
  <div id="binaryBoard" class="binary-board"></div>

  <!-- ASCII helper button -->
  <div class="helper-row">
    <button id="asciiHelpBtn" class="helper-btn" type="button">
      ASCII A–Z (Binary)
    </button>
  </div>

  <!-- ASCII popup -->
  <div id="asciiModal" class="modal hidden" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="asciiTitle">
      <div class="modal-header">
        <h2 id="asciiTitle">Capital Letters → ASCII Binary</h2>
        <button id="asciiCloseBtn" class="modal-close" type="button" aria-label="Close">✕</button>
      </div>

      <div id="asciiTable" class="ascii-table"></div>

      <div class="modal-footer">
        <button id="asciiDoneBtn" class="helper-btn" type="button">Done</button>
      </div>
    </div>
  </div>

</main>

<script>
/* ============================================================
   DISPLAY SETUP
   ============================================================ */
const display = document.getElementById("display");
const pixels = [];




const FONT_8x8 = {
"A": [
  0b01111100, // .#####..
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b11111110, // #######.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b00000000  // ........
],
"B": [
  0b11111100, // ######..
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b11111100, // ######..
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b11111100, // ######..
  0b00000000  // ........
],
"C": [
  0b01111110, // .######.
  0b10000000, // #.......
  0b10000000, // #.......
  0b10000000, // #.......
  0b10000000, // #.......
  0b10000000, // #.......
  0b01111110, // .######.
  0b00000000  // ........
],
"D": [
  0b11111100, // ######..
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b11111100, // ######..
  0b00000000  // ........
],
"E": [
  0b11111110, // #######.
  0b10000000, // #.......
  0b10000000, // #.......
  0b11111100, // ######..
  0b10000000, // #.......
  0b10000000, // #.......
  0b11111110, // #######.
  0b00000000  // ........
],
"F": [
  0b11111110, // #######.
  0b10000000, // #.......
  0b10000000, // #.......
  0b11111100, // ######..
  0b10000000, // #.......
  0b10000000, // #.......
  0b10000000, // #.......
  0b00000000  // ........
],
"G": [
  0b01111110, // .######.
  0b10000000, // #.......
  0b10000000, // #.......
  0b10011110, // #..####.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b01111110, // .######.
  0b00000000  // ........
],
"H": [
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b11111110, // #######.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b00000000  // ........
],

"I": [
  0b11111110, // #######.
  0b00111000, // ..###...
  0b00111000, // ..###...
  0b00111000, // ..###...
  0b00111000, // ..###...
  0b00111000, // ..###...
  0b11111110, // #######.
  0b00000000  // ........
],

"J": [
  0b00011110, // ...####.
  0b00000100, // .....#..
  0b00000100, // .....#..
  0b00000100, // .....#..
  0b10000100, // #....#..
  0b10000100, // #....#..
  0b01111000, // .####...
  0b00000000  // ........
],

"K": [
  0b10000010, // #.....#.
  0b10000100, // #....#..
  0b10001000, // #...#...
  0b11110000, // ####....
  0b10001000, // #...#...
  0b10000100, // #....#..
  0b10000010, // #.....#.
  0b00000000  // ........
],

"L": [
  0b10000000, // #.......
  0b10000000, // #.......
  0b10000000, // #.......
  0b10000000, // #.......
  0b10000000, // #.......
  0b10000000, // #.......
  0b11111110, // #######.
  0b00000000  // ........
],

"M": [
  0b10000010, // #.....#.
  0b11000110, // ##...##.
  0b10101010, // #.#.#.#.
  0b10010010, // #..#..#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b00000000  // ........
],

"N": [
  0b10000010, // #.....#.
  0b11000010, // ##....#.
  0b10100010, // #.#...#.
  0b10010010, // #..#..#.
  0b10001010, // #...#.#.
  0b10000110, // #....##.
  0b10000010, // #.....#.
  0b00000000  // ........
],

"O": [
  0b01111100, // .#####..
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b01111100, // .#####..
  0b00000000  // ........
],

"P": [
  0b11111110, // #######.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b11111110, // #######.
  0b10000000, // #.......
  0b10000000, // #.......
  0b10000000, // #.......
  0b00000000  // ........
],

"Q": [
  0b01111100, // .#####..
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10001010, // #...#.#.
  0b10000100, // #....#..
  0b01111010, // .####.#.
  0b00000000  // ........
],

"R": [
  0b11111100, // ######..
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b11111100, // ######..
  0b10001000, // #...#...
  0b10000100, // #....#..
  0b10000010, // #.....#.
  0b00000000  // ........
],

"S": [
  0b01111110, // .######.
  0b10000000, // #.......
  0b10000000, // #.......
  0b01111100, // .#####..
  0b00000010, // ......#.
  0b00000010, // ......#.
  0b11111100, // ######..
  0b00000000  // ........
],

"T": [
  0b11111110, // #######.
  0b00110000, // ..##....
  0b00110000, // ..##....
  0b00110000, // ..##....
  0b00110000, // ..##....
  0b00110000, // ..##....
  0b00110000, // ..##....
  0b00000000  // ........
],

"U": [
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b01111100, // .#####..
  0b00000000  // ........
],

"V": [
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b01000100, // .#...#..
  0b01000100, // .#...#..
  0b00111000, // ..###...
  0b00000000  // ........
],

"W": [
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10000010, // #.....#.
  0b10010010, // #..#..#.
  0b10101010, // #.#.#.#.
  0b11000110, // ##...##.
  0b10000010, // #.....#.
  0b00000000  // ........
],

"X": [
  0b10000010, // #.....#.
  0b01000100, // .#...#..
  0b00101000, // ..#.#...
  0b00010000, // ...#....
  0b00101000, // ..#.#...
  0b01000100, // .#...#..
  0b10000010, // #.....#.
  0b00000000  // ........
],

"Y": [
  0b10000010, // #.....#.
  0b01000100, // .#...#..
  0b00101000, // ..#.#...
  0b00010000, // ...#....
  0b00010000, // ...#....
  0b00010000, // ...#....
  0b00010000, // ...#....
  0b00000000  // ........
],

"Z": [
  0b11111110, // #######.
  0b00000100, // .....#..
  0b00001000, // ....#...
  0b00010000, // ...#....
  0b00100000, // ..#.....
  0b01000000, // .#......
  0b11111110, // #######.
  0b00000000  // ........
],


  " ": Array(8).fill(0)
};













for (let i = 0; i < 256; i++) {
  const p = document.createElement("div");
  p.className = "pixel black";
  display.appendChild(p);
  pixels.push(p);
}

/* ============================================================
   BINARY INPUT SETUP
   ============================================================ */
const binaryBoard = document.getElementById("binaryBoard");
const bits = [];

for (let row = 0; row < 4; row++) {
  const label = document.createElement("div");
  label.className = "row-label";
  label.textContent = `Letter ${row + 1}`;
  binaryBoard.appendChild(label);

  for (let col = 0; col < 8; col++) {
    const btn = document.createElement("button");
    btn.className = "bit";
    btn.textContent = "0";
    btn.dataset.value = "0";

    btn.onclick = () => {
      btn.dataset.value = btn.dataset.value === "0" ? "1" : "0";
      btn.textContent = btn.dataset.value;
      btn.classList.toggle("on");
      updateDisplay();
    };

    bits.push(btn);
    binaryBoard.appendChild(btn);
  }
}

/* ============================================================
   ASCII + FONT RENDERING
   (simple 8x8 block letters)
   ============================================================ */
function getWord() {
  let word = "";
  for (let r = 0; r < 4; r++) {
    const byte = bits
      .slice(r * 8, r * 8 + 8)
      .map(b => b.dataset.value)
      .join("");
    word += String.fromCharCode(parseInt(byte, 2) || 32);
  }
  return word;
}

function renderText(word) {
  clearDisplay();
  for (let i = 0; i < word.length; i++) {
    drawChar(word[i], i * 8);
  }
}

function drawChar(char, offsetX) {
  const glyph = FONT_8x8[char] || FONT_8x8[" "];

  for (let y = 0; y < 8; y++) {
    for (let x = 0; x < 8; x++) {
      if ((glyph[y] >> (7 - x)) & 1) {
        setPixel(y, offsetX + x, "white");
      }
    }
  }
}


/* ============================================================
   PIXEL HELPERS
   ============================================================ */
function setPixel(row, col, color) {
  pixels[row * 32 + col].className = `pixel ${color}`;
}

function clearDisplay() {
  pixels.forEach(p => p.className = "pixel black");
}

function renderFrame(frame, palette) {
  clearDisplay();
  frame.forEach((val, i) => {
    if (val !== 0 && val !== "0") {
      pixels[i].className = `pixel ${palette[val]}`;
    }
  });
}

/* ============================================================
   SPECIAL WORDS & ANIMATIONS
   ============================================================ */
const specials = {
  "PEEL": {
    frames: [[
        0,0,0,0,0,0,0,0,0,"b",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,"g",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,"y","g",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,"y","y","y","y","y","y","y","y",0,0,0,"y","y",0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,"y","y","y","y","y","y","y","y","y","y","y","y","y",0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,"y","y","y","y","y","y","y","y","y","y","y","y",0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,"y","y","y","y","y","y","y","y","y","y","y",0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,"y","y","y","y","y","y","y","y",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
      ]],
    palette: { b: "brown", g: "green", y: "yellow" }
  },

  "BOLT": {
        frames: [
      [
          "B","B","B","B","B","B","B","B","B","B","W","W","W","W","W","B","B","B","W","W","W","W","W","B","B","B","B","B","B","B","B","B",
  "B","B","W","W","W","W","W","B","B","W","W","W","W","W","W","W","B","W","W","W","W","W","W","W","B","B","W","W","W","W","W","B",
  "B","W","W","W","W","W","W","W","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","W","W","W","W","W","W","W",
  "B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B",
  "B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B",
  "B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B",
  "B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B",
  "G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G"

      ],
      [
         "B","B","B","B","B","B","B","B","B","B","W","W","W","W","W","B","B","B","W","W","W","W","W","B","B","B","B","B","B","B","B","B",
  "B","B","W","W","W","W","W","B","B","W","W","W","W","W","W","W","B","W","W","W","W","W","W","W","B","B","W","W","W","W","W","B",
  "B","W","W","W","W","W","W","W","B","B","B","B","Y","B","B","B","B","B","B","B","B","B","B","B","B","W","W","W","W","W","W","W",
  "B","B","B","B","B","B","B","B","B","B","B","Y","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B",
  "B","B","B","B","B","B","B","B","B","B","Y","Y","Y","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B",
  "B","B","B","B","B","B","B","B","B","B","B","Y","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B",
  "B","B","B","B","B","B","B","B","B","B","Y","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B",
  "G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G"

      ],
      [
       "B","B","B","B","B","B","B","B","B","B","W","W","W","W","W","B","B","B","W","W","W","W","W","B","B","B","B","B","B","B","B","B",
  "B","B","W","W","W","W","W","B","B","W","W","W","W","W","W","W","B","W","W","W","W","W","W","W","B","B","W","W","W","W","W","B",
  "B","W","W","W","W","W","W","W","B","B","B","B","B","B","B","B","B","B","B","B","Y","B","B","B","B","W","W","W","W","W","W","W",
  "B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","Y","B","B","B","B","B","B","B","B","B","B","B","B",
  "B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","Y","Y","Y","B","B","B","B","B","B","B","B","B","B","B",
  "B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","Y","B","B","B","B","B","B","B","B","B","B","B","B",
  "B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","B","Y","B","B","B","B","B","B","B","B","B","B","B","B","B",
  "G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G","G"

      ]
    ],
   palette: { B: "blue", W: "white", Y: "yellow", G: "green" }
  },
};

/* ============================================================
   UPDATE LOGIC
   ============================================================ */
let playing = false;

function updateDisplay() {
  if (playing) return;

  const word = getWord();
  renderText(word);

  if (specials[word]) {
    playSpecial(word);
  }
}

function playSpecial(word) {
  const special = specials[word];
  playing = true;

  const isSingleFrame = special.frames.length === 1;
  const frameDuration = 1000;                 // normal per-frame timing
  const singleFrameHold = frameDuration * 2;  // pixel art holds 2x longer

  // show word for 1s (unchanged)
  setTimeout(() => {
    let frameIndex = 0;

    // show the first frame immediately (no extra waiting)
    renderFrame(special.frames[frameIndex], special.palette);
    frameIndex++;

    // If only 1 frame, just hold it longer, then return to text
    if (isSingleFrame) {
      setTimeout(() => {
        playing = false;
        renderText(word);
      }, singleFrameHold);
      return;
    }

    // Otherwise animate remaining frames at normal speed
    const interval = setInterval(() => {
      renderFrame(special.frames[frameIndex], special.palette);
      frameIndex++;

      if (frameIndex >= special.frames.length) {
        clearInterval(interval);
        setTimeout(() => {
          playing = false;
          renderText(word);
        }, frameDuration);
      }
    }, frameDuration);

  }, 1000);
}


/* ============================================================
   ASCII A–Z POPUP
   ============================================================ */
const asciiHelpBtn = document.getElementById("asciiHelpBtn");
const asciiModal = document.getElementById("asciiModal");
const asciiCloseBtn = document.getElementById("asciiCloseBtn");
const asciiDoneBtn = document.getElementById("asciiDoneBtn");
const asciiTable = document.getElementById("asciiTable");

function byteToBin8(n) {
  return n.toString(2).padStart(8, "0");
}

function buildAsciiTableAZ() {
  asciiTable.innerHTML = "";
  for (let code = 65; code <= 90; code++) { // A..Z
    const ch = String.fromCharCode(code);
    const bin = byteToBin8(code);

    const row = document.createElement("div");
    row.className = "ascii-row";
    row.innerHTML = `<span>${ch}</span><span>${bin}</span>`;
    asciiTable.appendChild(row);
  }
}

function openAsciiModal() {
  buildAsciiTableAZ();
  asciiModal.classList.remove("hidden");
  asciiModal.setAttribute("aria-hidden", "false");
}

function closeAsciiModal() {
  asciiModal.classList.add("hidden");
  asciiModal.setAttribute("aria-hidden", "true");
}

asciiHelpBtn.addEventListener("click", openAsciiModal);
asciiCloseBtn.addEventListener("click", closeAsciiModal);
asciiDoneBtn.addEventListener("click", closeAsciiModal);

// close if user clicks the dark backdrop
asciiModal.addEventListener("click", (e) => {
  if (e.target === asciiModal) closeAsciiModal();
});

// Esc to close
document.addEventListener("keydown", (e) => {
  if (e.key === "Escape" && !asciiModal.classList.contains("hidden")) {
    closeAsciiModal();
  }
});



updateDisplay();
</script>
</body>
</html>
